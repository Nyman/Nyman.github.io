<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="/faviclown.png">
  <title>WD-40 for the soul</title>
  <link rel="stylesheet" href="style.css">
  <script>
    // Function to parse the date in the format dd-mm-yyyy and check if it's in the past
    function isPastDate(dateStr) {
        const [day, month, year] = dateStr.split('-').map(Number);
        const goneDate = new Date(year, month - 1, day); 
        const currentDate = new Date();
        goneDate.setHours(0, 0, 0, 0); // Normalize to day comparison
        currentDate.setHours(0, 0, 0, 0); // Normalize to day comparison
        return goneDate < currentDate;
    }

    document.addEventListener("DOMContentLoaded", function() {
      // Fetch and insert the navbar content from navbar.html
      fetch('commons/navbar.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('navbar-container').innerHTML = data;
        })
        .catch(error => {
          console.error('Error loading the navbar:', error);
        });

      // Hide <a> elements that have past dates and remove associated <br> tags
      const anchorElements = document.querySelectorAll('a'); // Select all <a> elements

      anchorElements.forEach((anchor) => {
        const dateRegex = /\b\d{2}-\d{2}-\d{4}\b/;  // Regex to match dd-mm-yyyy format
        const dateMatch = anchor.textContent.match(dateRegex);

        if (dateMatch) {
          if (isPastDate(dateMatch[0])) {
            // Hide the element if it has a past gone date
            anchor.style.display = 'none';

            // Remove the next sibling if it is a <br> tag (to avoid empty lines)
            const nextSibling = anchor.nextSibling;
            if (nextSibling && nextSibling.nodeName === 'BR') {
              nextSibling.remove();
            }
          }
        }
      });
    });
  </script>
</head>
<body>
    <div id="navbar-container"></div>
    <h1>Upcoming stand up gigs</h1>
    <a href="venues/maltainen_riekko.html">02-07-2024 Maltainen Riekko</a></br>
    <a href="venues/paasikivi.html">12-07-2024 Oluthuone Paasikivi</a></br>
    <a href="venues/kongi.html">20-07-2024 Tampere Kongi</a></br>
    <a href="venues/rocks_kallio.html">24-07-2024 Stand up -sirkus, On the Rocks Kallio</a></br>
    <a href="venues/private.html">17-08-2024 Private event</a></br>
    <a href="venues/dudeisland.html">29-08-2024 J채tk채saaren komediaklubi</a></br>
    <a href="venues/vitsiluola.html">03-10-2024 Vitsiluola</a></br>
    <a href="venues/kulttuurimeijeri.html">19-10-2024 Kulttuurimeijeri</a></br>
    <a href="venues/bistrobryk.html">30-10-2024 Bistro Bryk (ENG)</a></br>
    <a href="venues/kumpula.html">02-11-2024 Kumpulan Komediaklubi</a></br>
    <a href="venues/ruuhka.html">07-11-2024 Ruuhka</a></br>
    <a href="venues/dudeislandroast.html">23-11-2024 J채tk채saari Roast OM spot</a></br>
    <a href="venues/olarinpanimo.html">05-12-2024 Olarin Panimo</a></br>
    <pre>
                         .       .
                        / `.   .' \
                .---.  <    > <    >  .---.
                |    \  \ - ~ ~ - /  /    |
                 ~-..-~             ~-..-~
             \~~~\.'                    `./~~~/
              \__/                        \__/
               /                  .-    .  \
        _._ _.-    .-~ ~-.       /       }   \/~~~/
    _.-'q  }~     /       }     {        ;    \__/
   {'__,  /      (       /      {       /      `. ,~~|   .     .
    `''''='~~-.__(      /_      |      /- _      `..-'   \\   //
                / \   =/  ~~--~~{    ./|    ~-.     `-..__\\_//_.-'
               {   \  +\         \  =\ (        ~ - . _ _ _..---~
               |  | {   }         \   \_\
              '---.o___,'       .o___,'       
    </pre>
</body>
</html>
